FROM oven/bun:1.3.8-slim
WORKDIR /app

COPY package.json bun.lock ./
COPY packages/ ./packages/
COPY apps/backend/ ./apps/backend/
COPY apps/agent/ ./apps/agent/

RUN bun install --frozen-lockfile

WORKDIR /app/apps/agent
CMD ["bun", "run", "src/index.ts"]
